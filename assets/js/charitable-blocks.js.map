{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./src/blocks/campaign-progress-bar/block.js","webpack:///./src/blocks/campaign-progress-bar/icon.js","webpack:///./src/blocks/campaign-progress-bar/index.js","webpack:///./src/blocks/campaign-progress-bar/inspector.js","webpack:///./src/blocks/campaign-progress-bar/progress-bar.js","webpack:///./src/blocks/campaign-progress-bar/settings-editor.js","webpack:///./src/blocks/campaign-summary/block.js","webpack:///./src/blocks/campaign-summary/icon.js","webpack:///./src/blocks/campaign-summary/index.js","webpack:///./src/blocks/campaigns/block.js","webpack:///./src/blocks/campaigns/icon.js","webpack:///./src/blocks/campaigns/index.js","webpack:///./src/blocks/campaigns/settings-editor.js","webpack:///./src/blocks/donation-form/block.js","webpack:///./src/blocks/donation-form/icon.js","webpack:///./src/blocks/donation-form/index.js","webpack:///./src/blocks/donors/block.js","webpack:///./src/blocks/donors/icon.js","webpack:///./src/blocks/donors/index.js","webpack:///./src/charitable-blocks.js","webpack:///./src/components/campaign-select/campaign-data.js","webpack:///./src/components/campaign-select/functions.js","webpack:///./src/components/campaign-select/index.js","webpack:///./src/components/campaign-select/refs.js","webpack:///./src/components/campaign-select/search-field.js","webpack:///./src/components/campaign-select/search-results-dropdown-element.js","webpack:///./src/components/campaign-select/search-results-dropdown.js","webpack:///./src/components/campaign-select/search-results.js","webpack:///./src/components/campaign-select/selected-result.js","webpack:///./src/components/category-select/index.js","webpack:///./src/components/filter/index.js","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}"],"names":["CharitableCampaignProgressBarBlock","arguments","state","edit_mode","amount_raised","ready","updateGoal","bind","updateCampaignId","updateEditMode","getInspectorControls","getToolbarControls","getSettingsEditor","getPreview","is_campaign","wp","data","select","getCurrentPostType","getEditedPostAttribute","getCurrentPostId","updateAmountRaised","getCurrentPost","donated_amount","setState","goal","props","setAttributes","campaignId","amount","editButton","icon","title","__","onClick","isActive","showProgressBar","attributes","Component","i18n","registerBlockType","blocks","category","keywords","type","default","progressBarColour","progressBarHeight","isCampaign","edit","save","element","Fragment","components","Toolbar","PanelBody","PanelRow","RangeControl","ColorPicker","blockEditor","InspectorControls","BlockControls","InspectorBase","isSelected","checked","value","hex","applyWithSelect","withSelect","end_date","applyWithDispatch","withDispatch","dispatch","onGoalChange","editPost","onEndDateChange","Inspector","compose","ProgressBarBase","donated","progress","bar_style","height","tracker_style","width","backgroundColor","formatMoney","accounting","decimal","CHARITABLE_BLOCK_VARS","currency_format_decimal_sep","thousand","currency_format_thousand_sep","precision","currency_format_num_decimals","format","currency_format","sprintf","ProgressBar","TextControl","SettingsEditor","useSelect","withAPIData","SelectControl","ToggleControl","findDOMNode","editor","CharitableCampaignSummaryBlock","campaign","columns","postType","inspectorControls","ServerSideRender","Dashicon","CharitableCampaignsBlock","toggleMasonryLayout","toggleResponsiveLayout","masonryLayout","responsiveLayout","number","orderBy","order","fullOrderBy","label","split","newOrderBy","newOrder","description","categories","items","includeInactive","campaigns","campaignsToExclude","creator","display_option","display_option_settings_open","toggleIncludeInactive","closeDisplayOptionSettings","updateDisplayOption","getCurrentDisplayOption","getCurrentView","length","option","options","includes","currentDisplayOption","settingsView","displayOption","returnLink","DisplayOptions","selected_display_option","update_display_option_callback","header","DisplayOption","SpecificSettingsView","AllSettingsView","update_include_inactive_callback","FilterSettingsView","CharitableDonationFormBlock","self","selected_campaigns","transforms","from","tag","shortcode","named","campaign_id","parseInt","CharitableDonorsBlock","toggleDisplayDonorName","toggleDisplayDonorAmount","toggleDisplayDonorLocation","toggleDisplayDonorAvatar","toggleDistinctDonors","displayDonorName","displayDonorLocation","displayDonorAvatar","displayDonorAmount","distinctDonors","orientation","CAMPAIGN_DATA","hasCampaignThumbnail","hasOwnProperty","_embedded","getCampaignThumbnail","size","media_details","sizes","source_url","CampaignSelect","addOrRemoveCampaign","id","multiple","push","filter","update_campaign_setting_callback","campaign_active_status","fieldLabel","createRef","REFS","search_field","search_results","selected_results","CampaignSearchField","search_text","dropdown_open","handleKeyDown","updateSearchResults","isDropdownOpen","isOpen","evt","target","key","stopPropagation","results","current","firstElementChild","focus","divClass","search_placeholder","add_or_remove_campaign_callback","CampaignSearchResultsDropdownElement","handleClick","selected","getCardClass","cardClass","isDefault","index","rendered","NavigableMenu","CampaignSearchResultsDropdown","is_dropdown_open_callback","campaignElements","apiFetch","CampaignSearchResults","filtered","campaign_count","query","loaded","controllers","getQuery","updateResults","path","parse","then","response","json","headers","get","search_string","retry","window","setTimeout","queryLowercase","toLowerCase","CampaignSelectedResults","updateCampaignCache","uncachedCampaigns","join","console","log","campaignData","CampaignCategorySelect","selectedCategories","selected_categories","firstLoad","checkboxChange","setFirstLoad","update_category_setting_callback","CampaignCategoryList","updatePreview","endpoint","handleCategoriesToCheck","parent","slugs","getCategoryChildren","map","slug","children","forEach","CategoryTree","filteredCategories","name","count","categoriesData","Filter","enabled","toggleFilter","filterStyles","display"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACJA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACPA,qBAAqB,mBAAO,CAAC,iFAAkB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,2B;;;;;;;;;;;ACjBA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,uC;;;;;;;;;;;AC9BA;AACA;AACA;;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","file":"charitable-blocks.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/charitable-blocks.js\");\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\n * Block dependencies\n */\nimport CampaignSelect from './../../components/campaign-select/index.js';\nimport { SettingsEditor } from './settings-editor.js';\nimport { ProgressBar } from './progress-bar.js';\nimport { Inspector } from './inspector.js';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, Fragment } from '@wordpress/element';\nimport { Toolbar, PanelBody, PanelRow, RangeControl, ColorPicker } from '@wordpress/components';\nimport { BlockControls } from '@wordpress/blockEditor';\n\nclass CharitableCampaignProgressBarBlock extends Component {\n\tconstructor() {\n        super( ...arguments );\n\n        this.state = {\n            edit_mode: false,\n            amount_raised: null,\n            ready: false\n\t\t};\n\n        this.updateGoal           = this.updateGoal.bind( this );\n        this.updateCampaignId     = this.updateCampaignId.bind( this );\n        this.updateEditMode       = this.updateEditMode.bind( this );\n        this.getInspectorControls = this.getInspectorControls.bind( this );\n\t\tthis.getToolbarControls   = this.getToolbarControls.bind( this );\n\t\tthis.getSettingsEditor    = this.getSettingsEditor.bind( this );\n\t\tthis.getPreview           = this.getPreview.bind( this );\n    }\n\n    /**\n\t * Fetch the first 100 campaigns into memory, for faster search.\n\t *\n\t * We also record how many campaigns there are, in case there are more than 100.\n\t */\n\tcomponentDidMount() {\n        const is_campaign = 'campaign' === wp.data.select( 'core/editor' ).getCurrentPostType();\n\n        if ( is_campaign ) {\n            this.updateGoal( wp.data.select( 'core/editor' ).getEditedPostAttribute( 'goal' ) );\n            this.updateCampaignId( wp.data.select( 'core/editor' ).getCurrentPostId() );\n            this.updateAmountRaised( wp.data.select( 'core/editor' ).getCurrentPost().donated_amount );\n        } else {\n\n        }\n\n        this.setState({\n            ready: true\n        });\n    }\n\n    /**\n     * Update basic attributes.\n     */\n    updateGoal( goal ) {\n        this.props.setAttributes( { goal: goal } )\n    }\n\n    /**\n     * Update basic attributes.\n     */\n    updateCampaignId( campaignId ) {\n        this.props.setAttributes( { campaignId: campaignId } );\n    }\n\n    /**\n     * Update the amount raised.\n     */\n    updateAmountRaised( amount ) {\n        this.setState( {\n            amount_raised: amount\n        } );\n    }\n\n    /**\n\t * Update edit mode in state.\n\t */\n\tupdateEditMode() {\n\t\tthis.setState( {\n\t\t\tedit_mode: ! this.state.edit_mode\n\t\t} );\n\t}\n\n    /**\n\t * Get the components for the sidebar settings area that is rendered while focused on a Donation Form block.\n\t *\n\t * @return Component\n\t */\n\tgetInspectorControls() {\n        return <Inspector { ...this.props } />\n    }\n\n    /**\n\t * Get the components for the toolbar area that appears on top of the block when focused.\n\t *\n\t * @return Component\n\t */\n\tgetToolbarControls() {\n\t\tconst editButton = [\n\t\t\t{\n\t\t\t\ticon: 'edit',\n\t\t\t\ttitle: __( 'Edit Goal', 'charitable' ),\n\t\t\t\tonClick: this.updateEditMode,\n                isActive: this.state.edit_mode\n\t\t\t},\n\t\t];\n\n\t\treturn (\n\t\t\t<BlockControls>\n\t\t\t\t<Toolbar controls={ editButton } />\n\t\t\t</BlockControls>\n\t\t);\n\t}\n\n\t/**\n\t * Get the block settings editor UI.\n\t *\n\t * @return Component\n\t */\n\tgetSettingsEditor() {\n\t\treturn (\n\t\t\t<SettingsEditor { ...this.props } />\n\t\t);\n    }\n\n    /**\n     * Get the block preview.\n     *\n     * @return Component\n     */\n    getPreview() {\n        const {\n            showProgressBar\n        } = this.props.attributes;\n\n        return (\n            <>\n                { showProgressBar && <ProgressBar { ...this.props } /> }\n                <a href=\"#\" className=\"button\">Donate</a>\n            </>\n        );\n\n\n    }\n\n    render() {\n        if ( ! this.state.ready ) {\n            return null;\n        }\n\n        return (\n            <Fragment>\n                { this.getInspectorControls() }\n                { this.getToolbarControls() }\n                { this.getPreview() }\n            </Fragment>\n        );\n    }\n}\n\nexport default CharitableCampaignProgressBarBlock;","// const icon = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n//     <path d=\"M18.9,1.1V18.9H1.1V1.1H18.9M20,0H0V20H20V0Z\"/>\n//     <rect width=\"20\" height=\"9\"/>\n//     <rect x=\"3\" y=\"11\" width=\"11\" height=\"2\"/>\n//     <rect x=\"3\" y=\"15\" width=\"14\" height=\"2\"/>\n// </svg>;\nconst icon = <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n\t<path d=\"M11.717,9.315c-0.582-1.569-0.764-3.073-0.558-4.046l-6.863,5.835c-0.103,0.087-0.14,0.231-0.093,0.358l0.207,0.559h0l0,0\n\t\tl6.696-2.485c0.001,0.001,0.001,0.003,0.002,0.004c0.857,2.309,2.522,3.848,3.821,3.589c-0.018,0.001-0.037,0.003-0.056,0.003\n\t\tC13.893,13.141,12.543,11.54,11.717,9.315z\"/>\n\t<path d=\"M10,14.45c0.005,0,0.009,0,0.014,0c0.612,0,1.116-0.431,1.223-1.01L8.76,13.436C8.857,14.032,9.376,14.45,10,14.45z\"/>\n\t<path d=\"M14.232,8.377c-0.203-0.548-0.813-0.828-1.361-0.624l0.737,1.986C14.156,9.535,14.435,8.926,14.232,8.377z\"/>\n\t<path d=\"M10,0C4.477,0,0,4.477,0,10s4.477,10,10,10c5.523,0,10-4.477,10-10S15.523,0,10,0z M15.278,13.403\n\t\tc-0.124,0.041-0.253,0.041-0.383,0.041l-2.889-0.004c-0.081,1.024-0.935,1.744-1.984,1.756c-0.007,0-0.015,0-0.022,0\n\t\tc-1.056,0-1.927-0.723-2.007-1.761l-3.068-0.004c-0.451,0.003-0.859-0.222-1.016-0.645l-0.207-0.501v0l-0.207-0.559\n\t\tc-0.157-0.423-0.031-0.903,0.312-1.196l7.59-6.454c0.1-0.085,0.339-0.197,0.339-0.197c0.629-0.233,1.391,0.096,2.147,0.928\n\t\tc0.677,0.745,1.3,1.829,1.754,3.054c0.454,1.224,0.69,2.442,0.663,3.448C16.269,12.433,15.907,13.169,15.278,13.403z\"/>\n</svg>\n\nexport default icon;","/**\n * Block dependencies\n */\nimport icon from './icon';\nimport CharitableCampaignProgressBarBlock from './block';\n\n/**\n * Internal block libraries\n */\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\n\n/**\n * Register block\n */\nregisterBlockType( 'charitable/campaign-progress-bar', {\n    title : __( 'Campaign Progress Bar' ),\n\n    category : 'widgets',\n\n    icon: icon,\n\n    keywords: [\n        __( 'Fundraisers' ),\n        __( 'Charitable' ),\n        __( 'Donation' )\n    ],\n\n    attributes: {\n        showProgressBar: {\n            type: 'boolean',\n            default: false\n        },\n        progressBarColour: {\n            type: 'string',\n            default: '#c001ff'\n        },\n        progressBarHeight: {\n            type: 'number',\n            default: 16\n        },\n        isCampaign: {\n            type: 'boolean',\n            default: false\n        }\n    },\n\n    edit: props => {\n\t\treturn <CharitableCampaignProgressBarBlock { ... props } />\n\t},\n\n    save() {\n        return null;\n    }\n} );","/**\n * Block dependencies\n */\nimport CampaignSelect from './../../components/campaign-select/index.js';\nimport { SettingsEditor } from './settings-editor.js';\nimport { ProgressBar } from './progress-bar.js';\nimport { Panel, ToggleControl } from '@wordpress/components';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n// import {\n//     DimensionControl\n// } from '@wordpress/block-editor';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component, Fragment } = wp.element;\nconst { Toolbar, PanelBody, PanelRow, RangeControl, ColorPicker } = wp.components;\nconst { InspectorControls, BlockControls } = wp.blockEditor;\n\nconst InspectorBase = (props) => {\n\tconst {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tisSelected\n\t} = props;\n\n\tconst {\n\t\tshowProgressBar,\n\t\tprogressBarHeight,\n\t\tprogressBarColour\n\t} = attributes;\n\n\tif ( ! isSelected ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<InspectorControls\n\t\t\tkey=\"campaign-progress-bar-inspector\"\n\t\t\tdescription={ __( 'Configure', 'charitable' ) } >\n\t\t\t<PanelBody title={ __( 'Progress Bar', 'charitable' ) }>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Show progress bar', 'charitable' ) }\n\t\t\t\t\tchecked={ showProgressBar }\n\t\t\t\t\tonChange={ (checked) => setAttributes( { showProgressBar: checked } ) }\n\t\t\t\t/>\n\t\t\t\t{ showProgressBar && (\n\t\t\t\t\t<>\n\n\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\tlabel={ __( 'Tracker Colour', 'charitable' ) }\n\t\t\t\t\t\t\tcolor={ progressBarColour }\n\t\t\t\t\t\t\tonChangeComplete={ ( value ) => setAttributes( { progressBarColour: value.hex } ) }\n\t\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Progress Bar Height', 'charitable' ) }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { progressBarHeight: value } ) }\n\t\t\t\t\t\t\tmin={ 8 }\n\t\t\t\t\t\t\tmax={ 60 }\n\t\t\t\t\t\t\tvalue={ progressBarHeight }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n}\n\nconst applyWithSelect = withSelect( (select) => {\n\treturn {\n\t\tgoal: select( 'core/editor' ).getEditedPostAttribute( 'goal' ),\n\t\tend_date: select( 'core/editor' ).getEditedPostAttribute( 'end_date' )\n\t}\n} );\n\nconst applyWithDispatch = withDispatch( (dispatch) => {\n\treturn {\n\t\tonGoalChange: (value) => {\n\t\t\tdispatch( 'core/editor' ).editPost( { goal: value } )\n\t\t},\n\t\tonEndDateChange: (value) => {\n\t\t\tdispatch( 'core/editor' ).editPost( { end_date: value } )\n\t\t}\n\t}\n} );\n\nexport const Inspector = compose(\n\tapplyWithDispatch,\n\tapplyWithSelect\n)( InspectorBase );\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\n\nconst ProgressBarBase = (props) => {\n\tconst { attributes, donated, goal } = props;\n\tconst { progressBarHeight, progressBarColour } = attributes;\n\n\tif ( 0 === goal ) {\n\t\treturn null;\n\t}\n\n\tconst progress      = 100 * ( donated / goal );\n\tconst bar_style     = {\n\t\theight: progressBarHeight + 'px'\n\t};\n\tconst tracker_style = {\n\t\twidth: progress + '%',\n\t\tbackgroundColor: progressBarColour\n\t};\n\n\tconst formatMoney = function( amount ) {\n\t\treturn accounting.formatMoney( amount, {\n\t\t\t\tdecimal : CHARITABLE_BLOCK_VARS.currency_format_decimal_sep,\n\t\t\t\tthousand: CHARITABLE_BLOCK_VARS.currency_format_thousand_sep,\n\t\t\t\tprecision : CHARITABLE_BLOCK_VARS.currency_format_num_decimals,\n\t\t\t\tformat: CHARITABLE_BLOCK_VARS.currency_format\n\t\t} );\n\t}\n\n\treturn (\n\t\t<div className=\"charitable-campaign-progress-bar\">\n\t\t\t<div className=\"charitable-campaign-progress-bar-amount-raised\">{ formatMoney( donated ) }</div>\n\t\t\t<div className=\"charitable-campaign-progress-bar-goal\">{ sprintf( __( 'Goal: %s' ), formatMoney( goal ) ) }</div>\n\t\t\t<div className=\"campaign-progress-bar\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow={ progress } style={ bar_style }>\n\t\t\t\t<div className=\"campaign-progress-bar-tracker\" style={ tracker_style }></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport const ProgressBar = withSelect( select => {\n\treturn {\n\t\tgoal: select( 'core/editor' ).getEditedPostAttribute( 'goal' ),\n\t\tdonated: select( 'core/editor' ).getCurrentPost().donated_amount\n\t};\n} )( ProgressBarBase );\n","/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst { TextControl } = wp.components;\n\nexport class SettingsEditor extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n    }\n\n\t/**\n\t * Render the settings.\n\t */\n\trender() {\n\t\tconst { attributes, setAttributes } = this.props;\n\n\t\tfunction updateGoal( goal ) {\n\t\t\tsetAttributes( { goal } );\n\t\t\twp.data.dispatch( 'core/editor' ).editPost( { goal: goal } );\n        }\n\n\t\treturn (\n\t\t\t<div className=\"charitable-block-settings charitable-block-settings-campaign-progress-bar\">\n\t\t\t\t<TextControl\n                    label={ __( 'Goal', 'charitable' ) }\n                    value={ attributes.goal }\n                    onChange={ updateGoal }\n                />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SettingsEditor;","/**\n * Block dependencies\n */\nimport CampaignSelect from './../../components/campaign-select/index.js';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst { useSelect } = wp.data;\nconst { PanelBody, PanelRow, withAPIData, SelectControl, ToggleControl, RangeControl } = wp.components;\nconst { findDOMNode } = wp.element;\nconst { InspectorControls } = wp.editor;\n\nclass CharitableCampaignSummaryBlock extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n        // this.toggleMasonryLayout = this.toggleMasonryLayout.bind( this );\n        // this.toggleResponsiveLayout = this.toggleResponsiveLayout.bind( this );\n        this.getCurrentPostType = this.getCurrentPostType( this );\n    }\n\n    // toggleMasonryLayout() {\n\t// \tconst { masonryLayout } = this.props.attributes;\n\t// \tconst { setAttributes } = this.props;\n\n\t// \tsetAttributes( { masonryLayout: ! masonryLayout } );\n    // }\n\n    // toggleResponsiveLayout() {\n\t// \tconst { responsiveLayout } = this.props.attributes;\n\t// \tconst { setAttributes } = this.props;\n\n\t// \tsetAttributes( { responsiveLayout: ! responsiveLayout } );\n    // }\n\n    getCurrentPostType( state ) {\n        return useSelect( ( select ) => {\n            return select( 'core/editor' ).getCurrentPostType( state );\n        } );\n    }\n\n    render() {\n\t\tconst { attributes, isSelected, setAttributes } = this.props;\n        const { campaign, columns } = attributes;\n\n        const postType = this.getCurrentPostType( this.state );\n\n        const inspectorControls = isSelected && (\n            <InspectorControls key=\"inspector\" description={ __( 'Configure' ) } >\n                <CampaignSelect\n                    key=\"campaign-select\"\n                    label={ __( 'Campaign' ) }\n                    selectedOption={ attributes.campaign }\n                    onChange={ ( value ) => props.setAttributes( { campaign: value } ) }\n                />\n                <PanelBody title={ postType }>\n                    <PanelRow>\n                        <RangeControl\n                            key=\"columns-select\"\n                            label={ __( 'Columns' ) }\n                            value={ columns }\n                            min=\"1\"\n                            max=\"4\"\n                            onChange={ ( value ) => setAttributes( { columns: value } ) }\n                        />\n                    </PanelRow>\n                </PanelBody>\n            </InspectorControls>\n        );\n\n        return [\n            inspectorControls,\n            <p key=\"charitable-campaign-summary\">\n                { __( 'CAMPAIGN Summary' ) }\n            </p>\n        ];\n    }\n}\n\nexport default CharitableCampaignSummaryBlock;","const icon = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n    <path d=\"M18.9,1.1V18.9H1.1V1.1H18.9M20,0H0V20H20V0Z\"/>\n    <rect width=\"20\" height=\"9\"/>\n    <rect x=\"3\" y=\"11\" width=\"11\" height=\"2\"/>\n    <rect x=\"3\" y=\"15\" width=\"14\" height=\"2\"/>\n</svg>;\n\nexport default icon;","/**\n * Block dependencies\n */\nimport icon from './icon';\nimport CharitableCampaignSummaryBlock from './block';\n\n/**\n * Internal block libraries\n */\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\n\n/**\n * Register block\n */\nregisterBlockType( 'charitable/campaign-summary', {\n    title : __( 'Campaign Summary' ),\n\n    category : 'widgets',\n\n    icon: icon,\n\n    keywords: [\n        __( 'Fundraisers' ),\n        __( 'Charitable' ),\n        __( 'Donation' )\n    ],\n\n    edit: CharitableCampaignSummaryBlock,\n\n    save() {\n        return null;\n    }\n} );","/**\n * Block dependencies\n */\nimport icon from './icon';\nimport { SettingsEditor } from './settings-editor.js';\nimport { CampaignSelect } from './../../components/campaign-select/index.js';\nimport { CampaignCategorySelect } from './../../components/category-select/index.js';\nimport { Filter } from './../../components/filter/index.js';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst {\n\tToolbar,\n\tServerSideRender,\n\tPanelBody,\n\tPanelRow,\n\tSelectControl,\n\tToggleControl,\n\tRangeControl,\n\tDashicon\n} = wp.components;\nconst {\n\tInspectorControls,\n\tBlockControls\n} = wp.editor;\n\n/**\n * The campaigns block UI.\n */\nclass CharitableCampaignsBlock extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\tedit_mode: false,\n\t\t};\n\n\t\tthis.updateEditMode         = this.updateEditMode.bind( this );\n\t\tthis.toggleMasonryLayout    = this.toggleMasonryLayout.bind( this );\n\t\tthis.toggleResponsiveLayout = this.toggleResponsiveLayout.bind( this );\n\t\tthis.getInspectorControls   = this.getInspectorControls.bind( this );\n\t\tthis.getToolbarControls     = this.getToolbarControls.bind( this );\n\t\tthis.getSettingsEditor      = this.getSettingsEditor.bind( this );\n\t\tthis.getPreview             = this.getPreview.bind( this );\n\t}\n\n\t/**\n\t * Update edit mode in state.\n\t */\n\tupdateEditMode() {\n\t\tthis.setState( {\n\t\t\tedit_mode: ! this.state.edit_mode\n\t\t} );\n\t}\n\n\t/**\n\t * Turn the masonry layout on/off.\n\t */\n\ttoggleMasonryLayout() {\n\t\tconst { masonryLayout } = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( { masonryLayout: ! masonryLayout } );\n\t}\n\n\t/**\n\t * Turn responsive mode on/off.\n\t */\n\ttoggleResponsiveLayout() {\n\t\tconst { responsiveLayout } = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( { responsiveLayout: ! responsiveLayout } );\n\t}\n\n\t/**\n\t * Get the components for the sidebar settings area that is rendered while focused on a Donation Form block.\n\t *\n\t * @return Component\n\t */\n\tgetInspectorControls() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { number, orderBy, order, columns, masonryLayout, responsiveLayout } = attributes;\n\n\t\tconst fullOrderBy = orderBy + '/' + order;\n\n\t\treturn (\n\t\t\t<InspectorControls\n\t\t\t\tkey=\"inspector\"\n\t\t\t\tdescription={ __( 'Configure', 'charitable' ) } >\n\t\t\t\t<PanelBody title={ __( 'Display Settings', 'charitable' ) }>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tkey=\"orderby-select\"\n\t\t\t\t\t\t\tlabel={ __( 'Order by', 'charitable' ) }\n\t\t\t\t\t\t\tvalue={ fullOrderBy }\n\t\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __( 'Date created (newest to oldest)', 'charitable' ),\n\t\t\t\t\t\t\t\t\tvalue: 'post_date/DESC',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __( 'Date created (oldest to newest)', 'charitable' ),\n\t\t\t\t\t\t\t\t\tvalue: 'post_date/ASC',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __( 'Amount donated', 'charitable' ),\n\t\t\t\t\t\t\t\t\tvalue: 'popular/DESC',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __( 'Time left (least first)', 'charitable' ),\n\t\t\t\t\t\t\t\t\tvalue: 'ending/DESC',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __( 'Time left (longest first)', 'charitable' ),\n\t\t\t\t\t\t\t\t\tvalue: 'ending/ASC',\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\tonChange={ ( value ) => {\n\t\t\t\t\t\t\t\tconst [ newOrderBy, newOrder ] = value.split( '/' );\n\t\t\t\t\t\t\t\tif ( newOrder !== order ) {\n\t\t\t\t\t\t\t\t\tsetAttributes( { order: newOrder } );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( newOrderBy !== orderBy ) {\n\t\t\t\t\t\t\t\t\tsetAttributes( { orderBy: newOrderBy } );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tkey=\"number-control\"\n\t\t\t\t\t\t\tlabel={ __( 'Number of campaigns', 'charitable' ) }\n\t\t\t\t\t\t\tvalue={ number }\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { number: value } ) }\n\t\t\t\t\t\t\tmin=\"-1\"\n\t\t\t\t\t\t\tmax=\"999\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tkey=\"columns-select\"\n\t\t\t\t\t\t\tlabel={ __( 'Columns', 'charitable' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tmax=\"4\"\n\t\t\t\t\t\t\tonChange={ ( value ) => setAttributes( { columns: value } ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Masonry layout', 'charitable' ) }\n\t\t\t\t\t\t\tchecked={ masonryLayout }\n\t\t\t\t\t\t\tonChange={ this.toggleMasonryLayout }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Responsive layout', 'charitable' ) }\n\t\t\t\t\t\t\tchecked={ responsiveLayout }\n\t\t\t\t\t\t\tonChange={ this.toggleResponsiveLayout }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t);\n\t}\n\n\t/**\n\t * Get the components for the toolbar area that appears on top of the block when focused.\n\t *\n\t * @return Component\n\t */\n\tgetToolbarControls() {\n\t\tconst editButton = [\n\t\t\t{\n\t\t\t\ticon: 'filter',\n\t\t\t\ttitle: __( 'Filter Campaigns', 'charitable' ),\n\t\t\t\tonClick: this.updateEditMode,\n\t\t\t\tisActive: this.state.edit_mode,\n\t\t\t},\n\t\t];\n\n\t\treturn (\n\t\t\t<BlockControls key=\"controls\">\n\t\t\t\t<Toolbar controls={ editButton } />\n\t\t\t</BlockControls>\n\t\t);\n\t}\n\n\t/**\n\t * Get the block settings editor UI.\n\t *\n\t * @return Component\n\t */\n\tgetSettingsEditor() {\n\t\treturn (\n\t\t\t<SettingsEditor { ...this.props } />\n\t\t);\n\t}\n\n\t/**\n\t * Get the block preview.\n\t *\n\t * @return Component\n\t */\n\tgetPreview() {\n\t\treturn (\n\t\t\t<div class=\"charitable-block-campaigns has-preview\">\n\t\t\t\t<ServerSideRender\n\t\t\t\t\tblock=\"charitable/campaigns\"\n\t\t\t\t\tattributes={ this.props.attributes }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Render the block UI.\n\t */\n\trender() {\n\t\treturn [\n\t\t\tthis.getInspectorControls(),\n\t\t\tthis.getToolbarControls(),\n\t\t\tthis.state.edit_mode ? this.getSettingsEditor() : this.getPreview()\n\t\t];\n\t}\n}\n\nexport default CharitableCampaignsBlock;","const icon = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n    <path d=\"M18.9,1.1V18.9H1.1V1.1H18.9M20,0H0V20H20V0Z\"/>\n    <rect width=\"20\" height=\"9\"/>\n    <rect x=\"3\" y=\"11\" width=\"11\" height=\"2\"/>\n    <rect x=\"3\" y=\"15\" width=\"14\" height=\"2\"/>\n</svg>;\n\nexport default icon;","/**\n * Block dependencies\n */\nimport icon from './icon';\nimport CharitableCampaignsBlock from './block';\n\n/**\n * Internal block libraries\n */\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\n\n/**\n * Register block\n */\nregisterBlockType( 'charitable/campaigns', {\n\t/**\n\t * The block title.\n\t */\n\ttitle : __( 'Campaigns', 'charitable' ),\n\n\t/**\n\t * Block description.\n\t */\n\tdescription: __( 'Display a list or grid of campaigns.', 'charitable' ),\n\n\t/**\n\t * Type of block. This controls where it will be found in the block UI.\n\t */\n\tcategory : 'widgets',\n\n\t/**\n\t * Block icon.\n\t */\n\ticon: icon,\n\n\t/**\n\t * Keywords used to find the block.\n\t */\n\tkeywords: [\n\t\t__( 'Fundraisers' ),\n\t\t__( 'Charitable' ),\n\t\t__( 'Donation' )\n\t],\n\n\t/**\n\t * Block attributes.\n\t */\n\tattributes: {\n\t\t/**\n\t\t * The category of campaigns to show.\n\t\t */\n\t\tcategories : {\n\t\t\ttype : 'array',\n\t\t\tdefault : [],\n\t\t\titems : {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Whether to hide inactive campaigns.\n\t\t */\n\t\tincludeInactive: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\n\t\t/**\n\t\t * Specific campaigns to show.\n\t\t */\n\t\tcampaigns: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\titems : {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Specific campaigns to exclude.\n\t\t */\n\t\tcampaignsToExclude: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\titems : {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * A campaign creator whose campaigns will be shown.\n\t\t */\n\t\tcreator: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\n\t\t/**\n\t\t * Whether to show the campaigns in ascending or descending order.\n\t\t */\n\t\torder : {\n\t\t\ttype    : 'string',\n\t\t\tdefault : 'DESC',\n\t\t},\n\n\t\t/**\n\t\t * The criteria to order campaigns by.\n\t\t */\n\t\torderBy : {\n\t\t\ttype    : 'string',\n\t\t\tdefault : 'post_date',\n\t\t},\n\n\t\t/**\n\t\t * The number of campaigns to show.\n\t\t */\n\t\tnumber : {\n\t\t\ttype    : 'number',\n\t\t\tdefault : 10,\n\t\t},\n\n\t\t/**\n\t\t * The number of columns to show.\n\t\t */\n\t\tcolumns : {\n\t\t\ttype    : 'number',\n\t\t\tdefault : 2,\n\t\t},\n\n\t\t/**\n\t\t * Whether to use the masonry layout.\n\t\t */\n\t\tmasonryLayout : {\n\t\t\ttype    : 'boolean',\n\t\t\tdefault : false,\n\t\t},\n\n\t\t/**\n\t\t * Whether to use a responsive layout.\n\t\t */\n\t\tresponsiveLayout : {\n\t\t\ttype    : 'boolean',\n\t\t\tdefault : true,\n\t\t},\n\t},\n\n\t/**\n\t * Define the block UI.\n\t */\n\tedit: props => {\n\t\treturn <CharitableCampaignsBlock { ... props } />\n\t},\n\n\t/**\n\t * How the block is saved to the database.\n\t */\n\tsave() {\n\t\treturn null;\n\t}\n} );","/**\n * Block dependencies\n */\nimport icon from './icon';\nimport { CampaignSelect } from './../../components/campaign-select/index.js';\nimport { CampaignCategorySelect } from './../../components/category-select/index.js';\nimport { Filter } from './../../components/filter/index.js';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst {\n\tToolbar,\n\tServerSideRender,\n\tPanelBody,\n\tPanelRow,\n\tSelectControl,\n\tToggleControl,\n\tRangeControl,\n\tDashicon\n} = wp.components;\n\n/**\n * The campaigns block settings area in Edit mode.\n */\nexport class SettingsEditor extends Component {\n\n\t/**\n\t * Construtor.\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tdisplay_option: 'all',\n\t\t\tdisplay_option_settings_open: false,\n\t\t}\n\n\t\t// this.updateDisplay = this.updateDisplay.bind( this );\n\t\t// this.closeMenu     = this.closeMenu.bind( this );\n\t\tthis.toggleIncludeInactive      = this.toggleIncludeInactive.bind( this );\n\t\tthis.closeDisplayOptionSettings = this.closeDisplayOptionSettings.bind( this );\n\t\tthis.updateDisplayOption        = this.updateDisplayOption.bind( this );\n\t\tthis.getCurrentDisplayOption    = this.getCurrentDisplayOption.bind( this );\n\t\tthis.getCurrentView             = this.getCurrentView.bind( this );\n\t}\n\n\t/**\n\t * When the component is mounted, set the display_option.\n\t */\n\tcomponentDidMount() {\n\t\tconst { attributes } = this.props;\n\t\tconst { campaigns, categories, creator } = attributes;\n\n\t\tlet display_option = 'all';\n\n\t\tif ( campaigns.length ) {\n\t\t\tdisplay_option = 'specific';\n\t\t} else {\n\t\t\tif ( categories.length || creator.length ) {\n\t\t\t\tdisplay_option = 'filter';\n\t\t\t}\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tdisplay_option: display_option,\n\t\t} );\n\t}\n\n\t/**\n\t * Close the display option settings view.\n\t */\n\tcloseDisplayOptionSettings() {\n\t\tthis.setState( {\n\t\t\tdisplay_option_settings_open: false,\n\t\t} );\n\t}\n\n\t/**\n\t * Toggle the includeInactive setting.\n\t */\n\ttoggleIncludeInactive() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { includeInactive } = attributes;\n\n\t\tsetAttributes( { includeInactive: ! includeInactive } );\n\t}\n\n\t/**\n\t * Update the state of display_option.\n\t */\n\tupdateDisplayOption( option ) {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst options = [ 'all', 'filter', 'specific' ]\n\n\t\tif ( options.includes( option ) ) {\n\t\t\tthis.setState( {\n\t\t\t\tdisplay_option: option,\n\t\t\t\tdisplay_option_settings_open: true,\n\t\t\t} );\n\n\t\t\tswitch ( option ) {\n\t\t\t\tcase 'all' :\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tcategories: [],\n\t\t\t\t\t\tcampaigns: [],\n\t\t\t\t\t\tcreator: '',\n\t\t\t\t\t\tincludeInactive: false,\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'filter' :\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tcampaigns: [],\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'specific' :\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tcategories: [],\n\t\t\t\t\t\tcampaignsToExclude: [],\n\t\t\t\t\t\tcreator: '',\n\t\t\t\t\t\tincludeInactive: true,\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get the title for the current display option.\n\t *\n\t * @return string\n\t */\n\tgetCurrentDisplayOption() {\n\t\tlet currentDisplayOption = null;\n\n\t\tswitch ( this.state.display_option ) {\n\t\t\tcase 'all' :\n\t\t\t\tcurrentDisplayOption = __( 'All active campaigns', 'charitable' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'filter' :\n\t\t\t\tcurrentDisplayOption = __( 'Filtered campaigns', 'charitable' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'specific' :\n\t\t\t\tcurrentDisplayOption = __( 'Specific campaigns', 'charitable' );\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn currentDisplayOption;\n\t}\n\n\t/**\n\t * Return the appropriate view to display.\n\t *\n\t * @return Component\n\t */\n\tgetCurrentView() {\n\t\tconst { attributes, setAttributes } = this.props;\n\n\t\tlet settingsView = null;\n\n\t\tif ( !! this.state.display_option_settings_open ) {\n\n\t\t\tswitch ( this.state.display_option ) {\n\t\t\t\tcase 'all' :\n\t\t\t\t\tsettingsView = <AllSettingsView\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tupdate_include_inactive_callback={ this.toggleIncludeInactive }\n\t\t\t\t\t/>\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'filter' :\n\t\t\t\t\tsettingsView = <FilterSettingsView\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tupdate_include_inactive_callback={ this.toggleIncludeInactive }\n\t\t\t\t\t/>\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'specific' :\n\t\t\t\t\tsettingsView = <SpecificSettingsView\n\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t/>\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tsettingsView = <DisplayOptions\n\t\t\t\tattributes={ attributes }\n\t\t\t\ttitle={ __( 'Filter campaigns', 'charitable' ) }\n\t\t\t\tselected_display_option={ ( this.state.display_option ) }\n\t\t\t\tupdate_display_option_callback={ this.updateDisplayOption }\n\t\t\t/>\n\t\t}\n\n\t\treturn settingsView;\n\n\t}\n\n\t/**\n\t * Render the settings.\n\t */\n\trender() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { categories, includeInactive, campaigns, campaignsToExclude, creator, columns, displayOption } = attributes;\n\n\t\tlet returnLink = null;\n\n\t\tif ( !! this.state.display_option_settings_open ) {\n\t\t\treturnLink = (\n\t\t\t\t<div className=\"charitable-block-settings-breadcrumbs\">\n\t\t\t\t\t<a href=\"#\" onClick={ this.closeDisplayOptionSettings }>\n\t\t\t\t\t\t{ __( 'Display different campaigns', 'charitable' ) }\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div class=\"charitable-block-settings charitable-block-settings-campaigns\">\n\t\t\t\t<div className=\"charitable-block-settings-heading\">\n\t\t\t\t\t<h2 className=\"charitable-block-settings-title\">{ icon } { __( 'Campaigns', 'charitable' ) }</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"charitable-block-settings-campaigns-subheading\">\n\t\t\t\t\t<p><strong>{ __( 'Currently showing:', 'charitable' ) }</strong>&nbsp;{ this.getCurrentDisplayOption() }</p>\n\t\t\t\t</div>\n\t\t\t\t{ returnLink }\n\t\t\t\t{ this.getCurrentView() }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * List all display options.\n */\nclass DisplayOptions extends Component {\n\n\t/**\n\t * Render the display options.\n\t */\n\trender() {\n\t\tconst { title, selected_display_option, update_display_option_callback } = this.props;\n\n\t\tlet header = title.length ? <p className=\"charitable-block-settings-campaigns--display-options-header\"><strong>{ title }</strong></p> : '';\n\n\t\treturn (\n\t\t\t<div className=\"charitable-block-settings-campaigns--display-options-wrapper\">\n\t\t\t\t{ header }\n\t\t\t\t<ul className=\"charitable-block-settings-campaigns--display-options\">\n\t\t\t\t\t<DisplayOption\n\t\t\t\t\t\tselected_display_option={ selected_display_option }\n\t\t\t\t\t\tupdate_display_option_callback={ update_display_option_callback }\n\t\t\t\t\t\toption=\"all\"\n\t\t\t\t\t\tlabel={ __( 'Show all campaigns', 'charitable' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<DisplayOption\n\t\t\t\t\t\tselected_display_option={ selected_display_option }\n\t\t\t\t\t\tupdate_display_option_callback={ update_display_option_callback }\n\t\t\t\t\t\toption=\"filter\"\n\t\t\t\t\t\tlabel={ __( 'Filter by category, tag or campaign creator', 'charitable' ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<DisplayOption\n\t\t\t\t\t\tselected_display_option={ selected_display_option }\n\t\t\t\t\t\tupdate_display_option_callback={ update_display_option_callback }\n\t\t\t\t\t\toption=\"specific\"\n\t\t\t\t\t\tlabel={ __( 'Choose specific campaigns', 'charitable' ) }\n\t\t\t\t\t/>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * Display a single display option row.\n */\nclass DisplayOption extends Component {\n\n\t/**\n\t * Render the display options.\n\t */\n\trender() {\n\t\tconst { option, label, selected_display_option, update_display_option_callback } = this.props;\n\n\t\treturn (\n\t\t\t<li className={ option === selected_display_option ? 'active-option' : '' }  onClick={ () => update_display_option_callback( option ) }>\n\t\t\t\t{ option === selected_display_option ? <Dashicon icon=\"yes\" /> : '' }\n\t\t\t\t{ label }\n\t\t\t\t<button onClick={ () => update_display_option_callback( option ) } className=\"charitable-block-settings-campaigns--display-options-button\" type=\"button\">\n\t\t\t\t\t<Dashicon icon=\"admin-generic\" />\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\n/**\n * Specific campaign settings view.\n */\nclass SpecificSettingsView extends Component {\n\n\t/**\n\t * Render the view.\n\t */\n\trender() {\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { campaigns, columns }        = attributes;\n\n\t\treturn (\n\t\t\t<div className=\"charitable-block-settings-view charitable-block-settings-view--specific\">\n\t\t\t\t<CampaignSelect\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tlabel={ __( 'Choose campaigns', 'charitable' ) }\n\t\t\t\t\tsearch_placeholder={ __( 'Search for campaigns to display', 'charitable' ) }\n\t\t\t\t\tselected_campaigns={ campaigns }\n\t\t\t\t\tupdate_campaign_setting_callback={ ( value ) => setAttributes( { campaigns: value } ) }\n\t\t\t\t\tmultiple={ true }\n\t\t\t\t\tcolumns={ columns }\n\t\t\t\t\tcampaign_active_status=\"\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * All campaigns settings view.\n */\nclass AllSettingsView extends Component {\n\n\t/**\n\t * Render the view.\n\t */\n\trender() {\n\t\tconst { attributes, setAttributes, update_include_inactive_callback } = this.props;\n\t\tconst { campaignsToExclude, includeInactive } = attributes;\n\n\t\treturn (\n\t\t\t<div className=\"charitable-block-settings-view charitable-block-settings-view--all\">\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Include inactive campaigns', 'charitable' ) }\n\t\t\t\t\tchecked={ !! includeInactive }\n\t\t\t\t\tonChange={ update_include_inactive_callback }\n\t\t\t\t/>\n\t\t\t\t<Filter title={ __( 'Exclude Campaigns', 'charitable' ) } enabled={ false }>\n\t\t\t\t\t<CampaignSelect\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tlabel={ __( 'Campaigns to exclude', 'charitable' ) }\n\t\t\t\t\t\tsearch_placeholder={ __( 'Search for campaigns to exclude', 'charitable' ) }\n\t\t\t\t\t\tselected_campaigns={ campaignsToExclude }\n\t\t\t\t\t\tupdate_campaign_setting_callback={ ( value ) => setAttributes( { campaignsToExclude: value } ) }\n\t\t\t\t\t\tmultiple={ true }\n\t\t\t\t\t\tcampaign_active_status=\"\"\n\t\t\t\t\t/>\n\t\t\t\t</Filter>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * Filtered campaigns settings view.\n */\nclass FilterSettingsView extends Component {\n\n\t/**\n\t * Render the view.\n\t */\n\trender() {\n\t\tconst { attributes, setAttributes, update_include_inactive_callback } = this.props;\n\t\tconst { categories, campaignsToExclude, includeInactive, campaigns, columns } = attributes;\n\n\t\treturn (\n\t\t\t<div className=\"charitable-block-settings-view charitable-block-settings-view--filter\">\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={ __( 'Include inactive campaigns', 'charitable' ) }\n\t\t\t\t\tchecked={ !! includeInactive }\n\t\t\t\t\tonChange={ update_include_inactive_callback }\n\t\t\t\t/>\n\t\t\t\t<Filter title={ __( 'Category', 'charitable' ) } enabled={ false }>\n\t\t\t\t\t<CampaignCategorySelect\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tlabel={ __( 'Filter by category', 'charitable' ) }\n\t\t\t\t\t\tselected_categories={ categories }\n\t\t\t\t\t\tupdate_category_setting_callback={ ( value ) => setAttributes( { categories: value } ) }\n\t\t\t\t\t/>\n\t\t\t\t</Filter>\n\t\t\t\t{/* <CampaignCategorySelect\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tlabel={ __( 'Filter by category', 'charitable' ) }\n\t\t\t\t\tselected_categories={ categories }\n\t\t\t\t\tupdate_category_setting_callback={ ( value ) => setAttributes( { categories: value } ) }\n\t\t\t\t/> */}\n\t\t\t\t<Filter title={ __( 'Exclude Campaigns', 'charitable' ) } enabled={ false }>\n\t\t\t\t\t<CampaignSelect\n\t\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t\tlabel={ __( 'Campaigns to exclude', 'charitable' ) }\n\t\t\t\t\t\tsearch_placeholder={ __( 'Search for campaigns to exclude', 'charitable' ) }\n\t\t\t\t\t\tselected_campaigns={ campaignsToExclude }\n\t\t\t\t\t\tupdate_campaign_setting_callback={ ( value ) => setAttributes( { campaignsToExclude: value } ) }\n\t\t\t\t\t\tmultiple={ true }\n\t\t\t\t\t\tcolumns={ columns }\n\t\t\t\t\t\tcampaign_active_status=\"\"\n\t\t\t\t\t/>\n\t\t\t\t</Filter>\n\t\t\t</div>\n\t\t);\n\t}\n}","import { CampaignSelect } from './../../components/campaign-select/index.js';\n\n/**\n * WP dependencies.\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst {\n\tToolbar,\n\tServerSideRender\n} = wp.components;\nconst {\n\tBlockControls,\n} = wp.editor;\n\n/**\n * The main donation form block UI.\n */\nexport default class CharitableDonationFormBlock extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\tedit_mode: ! this.props.attributes.campaign,\n\t\t};\n\n\t\tthis.getInspectorControls = this.getInspectorControls.bind( this );\n\t\tthis.getToolbarControls   = this.getToolbarControls.bind( this );\n\t\tthis.getSettingsEditor    = this.getSettingsEditor.bind( this );\n\t\tthis.getPreview           = this.getPreview.bind( this );\n\t}\n\n\t/**\n\t * Get the components for the sidebar settings area that is rendered while focused on a Donation Form block.\n\t *\n\t * @return Component\n\t */\n\tgetInspectorControls() {\n\t\treturn '';\n\t}\n\t\n\t/**\n\t * Get the components for the toolbar area that appears on top of the block when focused.\n\t *\n\t * @return Component\n\t */\n\tgetToolbarControls() {\n\t\tconst { edit_mode } = this.state;\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { campaign } = attributes;\t\t\n\n\t\tconst editButton = [\n\t\t\t{\n\t\t\t\ticon: 'edit',\n\t\t\t\ttitle: __( 'Edit' ),\n\t\t\t\tonClick: ! campaign ? function(){} : () => this.setState( { edit_mode: ! edit_mode } ),\n\t\t\t\tisActive: this.state.edit_mode,\n\t\t\t},\n\t\t];\n\n\t\treturn (\n\t\t\t<BlockControls key=\"controls\">\n\t\t\t\t<Toolbar controls={ editButton } />\n\t\t\t</BlockControls>\n\t\t);\n\t}\n\t\n\t/**\n\t * Get the block settings editor UI.\n\t *\n\t * @return Component\n\t */\n\tgetSettingsEditor() {\n\t\tconst self = this;\n\t\tconst { attributes, setAttributes } = this.props;\n\t\tconst { campaign } = attributes;\n\n\t\tlet selected_campaigns = !! campaign ? [ campaign ] : [];\n\t\t\n\t\treturn (\n\t\t\t<div class=\"charitable-block-donation-form charitable-block-settings\">\n\t\t\t\t<CampaignSelect\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\tselected_campaigns={ selected_campaigns }\n\t\t\t\t\tupdate_campaign_setting_callback={ ( campaign ) => {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tcampaign: campaign[0]\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\tself.setState( {\n\t\t\t\t\t\t\tedit_mode: ! campaign.length\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tmultiple={ false }\n\t\t\t\t\tcampaign_active_status=\"active\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Get the block preview.\n\t *\n\t * @return Component\n\t */\n\tgetPreview() {\n\t\treturn (\n\t\t\t<div class=\"charitable-block-donation-form has-preview\">\n\t\t\t\t<div class=\"charitable-block-overlay\"></div>\n\t\t\t\t<ServerSideRender\n\t\t\t\t\tblock=\"charitable/donation-form\"\n\t\t\t\t\tattributes={ this.props.attributes }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\t\n\t/**\n\t * Render the block UI.\n\t */\n\trender() {\n\t\treturn [\n\t\t\tthis.getInspectorControls(),\n\t\t\tthis.getToolbarControls(),\n\t\t\tthis.state.edit_mode ? this.getSettingsEditor() : this.getPreview(),\n\t\t];\n\t}\n}\n","const icon = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n    <path d=\"M17.69,2.31V5.69H2.31V2.31H17.69M20,0H0V8H20V0Z\"/>\n    <path d=\"M17.69,8.31v3.38H2.31V8.31H17.69M20,6H0v8H20V6Z\"/>\n    <path d=\"M17.69,14.31v3.38H2.31V14.31H17.69M20,12H0v8H20V12Z\"/>\n</svg>;\n\nexport default icon;","import CharitableDonationFormBlock from './block';\nimport icon from './icon';\n\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\n\nregisterBlockType( 'charitable/donation-form', {\n\t/**\n\t * The block title.\n\t */\n\ttitle : __( 'Donation Form', 'charitable' ),\n\n\t/**\n\t * Block description.\n\t */\n\tdescription: __( 'Display a campaign\\'s donation form.', 'charitable' ),\n\n\t/**\n\t * Type of block. This controls where it will be found in the block UI.\n\t */\n\tcategory : 'widgets',\n\n\t/**\n\t * Block icon.\n\t */\n\ticon: icon,\n\n\t/**\n\t * Keywords used to find the block.\n\t */\n\tkeywords: [\n\t\t__( 'Donate', 'charitable' ),\n\t\t__( 'Charitable' ),\n\t],\n\n\t/**\n\t * Block attributes.\n\t */\n\tattributes: {\n\n\t\t/**\n\t\t * The campaign for the donation form.\n\t\t */\n\t\tcampaign : {\n\t\t\ttype: 'number',\n\t\t\tdefault: 0,\n\t\t},\n\t},\n\t\n\t/**\n\t * Transform between the block & a shortcode.\n\t */\n\ttransforms: {\n\t\tfrom: [\n\t\t\t{\n\t\t\t\ttype: 'shortcode',\n\t\t\t\ttag: 'charitable_donation_form',\n\t\t\t\tattributes: {\n\n\t\t\t\t\t// An attribute can be source from the shortcode attributes\n\t\t\t\t\tcampaign: {\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tshortcode: ( { named: { campaign_id = '' } } ) => {\n\t\t\t\t\t\t\tif ( ! campaign_id ) {\n\t\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn parseInt( campaign_id, 10 );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t]\n\t},\n\n\t/**\n\t * Define the block UI.\n\t */\n\tedit: props => {\n\t\treturn <CharitableDonationFormBlock { ... props } />\n\t},\n\n\t/**\n\t * How the block is saved to the database.\n\t */\n\tsave: function( props ) {\n\t\treturn null;\n\t},\n});","/**\n * Block dependencies\n */\nimport CampaignSelect from './../../components/campaign-select/index.js';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst { InspectorControls } = wp.editor;\nconst { PanelBody, PanelRow, SelectControl, ToggleControl, RangeControl } = wp.components;\n\nexport class CharitableDonorsBlock extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n        this.toggleDisplayDonorName = this.toggleDisplayDonorName.bind( this );\n        this.toggleDisplayDonorAmount = this.toggleDisplayDonorAmount.bind( this );\n        this.toggleDisplayDonorLocation = this.toggleDisplayDonorLocation.bind( this );\n        this.toggleDisplayDonorAvatar = this.toggleDisplayDonorAvatar.bind( this );\n        this.toggleDistinctDonors = this.toggleDistinctDonors.bind( this );\n    }\n\n    toggleDisplayDonorName() {\n\t\tconst { displayDonorName } = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( { displayDonorName: ! displayDonorName } );\n    }\n\n    toggleDisplayDonorLocation() {\n\t\tconst { displayDonorLocation } = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( { displayDonorLocation: ! displayDonorLocation } );\n    }\n\n    toggleDisplayDonorAvatar() {\n\t\tconst { displayDonorAvatar } = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( { displayDonorAvatar: ! displayDonorAvatar } );\n    }\n\n    toggleDisplayDonorAmount() {\n\t\tconst { displayDonorAmount } = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( { displayDonorAmount: ! displayDonorAmount } );\n    }\n\n    toggleDistinctDonors() {\n\t\tconst { distinctDonors } = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tsetAttributes( { distinctDonors: ! distinctDonors } );\n    }\n\n    render() {\n\t\tconst { attributes, isSelected, setAttributes } = this.props;\n        const { number, orderBy, campaign, distinctDonors, orientation, displayDonorAmount, displayDonorName, displayDonorLocation, displayDonorAvatar } = attributes;\n\n        const inspectorControls = isSelected && (\n            <InspectorControls key=\"inspector\" description={ __( 'Configure' ) }>\n                <RangeControl\n                    key=\"number-control\"\n                    label={ __( 'Number of donors' ) }\n                    value={ number }\n                    onChange={ ( value ) => setAttributes( { number: value } ) }\n                    min=\"-1\"\n                    max=\"999\"\n                />\n                <CampaignSelect\n                    key=\"campaign-select\"\n                    label={ __( 'Campaign' ) }\n                    withOptions={ [\n                        {\n                            label: __( 'All Campaigns' ),\n                            value: 'all',\n                        }\n                    ] }\n                    selectedOption={ campaign }\n                    onChange={ ( value ) => this.props.setAttributes( { campaign: value } ) }\n                />\n                <SelectControl\n                    key=\"orderby-select\"\n                    label={ __( 'Order by' ) }\n                    value={ orderBy }\n                    options={ [\n                        {\n                            label: __( 'Most recent' ),\n                            value: 'recent',\n                        },\n                        {\n                            label: __( 'Amount donated' ),\n                            value: 'amount',\n                        },\n                    ] }\n                    onChange={ ( value ) => setAttributes( { orderBy: value } ) }\n                />\n                <ToggleControl\n                    key=\"distinct-donors-toggle\"\n                    label={ __( 'Only show unique donors' ) }\n                    checked={ distinctDonors }\n                    onChange={ this.toggleDistinctDonors }\n                />\n                <PanelBody title={ __( 'Display Settings' ) }>\n                    <PanelRow>\n                        <SelectControl\n                            key=\"orientation-select\"\n                            label={ __( 'Orientation' ) }\n                            value={ orientation }\n                            options={ [\n                                {\n                                    label: __( 'Vertical' ),\n                                    value: 'vertical',\n                                },\n                                {\n                                    label: __( 'Horizontal' ),\n                                    value: 'horizontal',\n                                },\n                            ] }\n                            onChange={ ( value ) => setAttributes( { orientation: value } ) }\n                        />\n                    </PanelRow>\n                    <PanelRow>\n                        <ToggleControl\n                            label={ __( 'Display the name of the donor' ) }\n                            checked={ displayDonorName }\n                            onChange={ this.toggleDisplayDonorName }\n                        />\n                    </PanelRow>\n                    <PanelRow>\n                        <ToggleControl\n                            label={ __( 'Display the amount donated by the donor' ) }\n                            checked={ displayDonorAmount }\n                            onChange={ this.toggleDisplayDonorAmount }\n                        />\n                    </PanelRow>\n                    <PanelRow>\n                        <ToggleControl\n                            label={ __( 'Display the location of the donor' ) }\n                            checked={ displayDonorLocation }\n                            onChange={ this.toggleDisplayDonorLocation }\n                        />\n                    </PanelRow>\n                    <PanelRow>\n                        <ToggleControl\n                            label={ __( 'Display the avatar of the donor' ) }\n                            checked={ displayDonorAvatar }\n                            onChange={ this.toggleDisplayDonorAvatar }\n                        />\n                    </PanelRow>\n                </PanelBody>\n            </InspectorControls>\n        );\n\n        return [\n            inspectorControls,\n            <p key=\"charitable-donors\">\n                { __( 'DONORS' ) }\n            </p>\n        ];\n    }\n}\n\nexport default CharitableDonorsBlock;","const icon = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\">\n    <path d=\"M0,0V20H20V0ZM10,3A3,3,0,1,1,7,6,3,3,0,0,1,10,3Zm5,14H5V12.89A2.89,2.89,0,0,1,7.89,10h4.22A2.89,2.89,0,0,1,15,12.89Z\"/>\n</svg>;\n\nexport default icon;","/**\n * Block dependencies\n */\nimport icon from './icon';\nimport CharitableDonorsBlock from './block';\n\n/**\n * Internal block libraries\n */\nconst { __ } = wp.i18n;\nconst { registerBlockType } = wp.blocks;\n\n/**\n * Register block\n */\nregisterBlockType( 'charitable/donors', {\n    title : __( 'Donors' ),\n\n    category : 'widgets',\n\n    icon: icon,\n\n    keywords: [\n        __( 'Donations' ),\n        __( 'Charitable' ),\n        __( 'Backer' )\n    ],\n\n    edit: CharitableDonorsBlock,\n\n    save: () => {\n        return (\n            <p>\n                { __( 'DONORS' ) }\n            </p>\n        );\n    }\n});","/**\n * Import blocks.\n */\nimport './blocks/campaign-progress-bar/';\nimport './blocks/campaign-summary/';\nimport './blocks/campaigns/';\nimport './blocks/donation-form/';\nimport './blocks/donors/';","/**\n * Campaign data cache.\n * Reduces the number of API calls and makes UI smoother and faster.\n */\nexport const CAMPAIGN_DATA = {};\n\nexport default CAMPAIGN_DATA;","\n/**\n * Check whether a campaign has a thumbnail.\n *\n * @return boolean\n */\nexport const hasCampaignThumbnail = ( campaign ) => {\n\treturn campaign.hasOwnProperty( '_embedded' ) && campaign._embedded.hasOwnProperty( 'wp:featuredmedia' );\n}\n\n/**\n * Get the thumbnail for a given campaign.\n *\n * @return string\n */\nexport const getCampaignThumbnail = ( campaign, size = 'thumbnail', width = 30, height = 30 ) => {\n\tif ( hasCampaignThumbnail( campaign ) ) {\n\t\treturn (\n\t\t\t<img src={ campaign._embedded['wp:featuredmedia'][0].media_details.sizes[size].source_url } width={ width } height={ height } />\n\t\t)\n\t} else {\n\t\treturn '';\n\t}\n}","/**\n * Block dependencies\n */\nimport { CampaignSearchField } from './search-field';\nimport { CampaignSelectedResults } from './selected-result';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\n\n/**\n * Display a list of campaigns with checkboxes and a search filter.\n */\nexport class CampaignSelect extends Component {\n\n\t/**\n\t * Constructor.\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tselected_campaigns: props.selected_campaigns || []\n\t\t}\n\n\t\tthis.addOrRemoveCampaign = this.addOrRemoveCampaign.bind( this );\n\t}\n\n\t/**\n\t * Add or remove a campaign.\n\t *\n\t * @param id int Campaign ID.\n\t */\n\taddOrRemoveCampaign( id ) {\n\t\tlet selected_campaigns = this.state.selected_campaigns;\n\n\t\t// Add the campaign\n\t\tif ( ! selected_campaigns.includes( id ) ) {\n\t\t\tif ( !! this.props.multiple ) {\n\t\t\t\tselected_campaigns.push( id );\n\t\t\t} else {\n\t\t\t\tselected_campaigns = [ id ];\n\t\t\t}\n\t\t} else {\n\t\t\tselected_campaigns = selected_campaigns.filter( campaign => campaign !== id );\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tselected_campaigns: selected_campaigns\n\t\t} );\n\n\t\tthis.props.update_campaign_setting_callback( selected_campaigns );\n\t}\n\n\t/**\n\t * Render the list of campaigns and the search input.\n\t */\n\trender() {\n\t\tconst { label, columns, campaign_active_status } = this.props;\n\n\t\tlet fieldLabel = label ? <label>{ label }</label> : null;\n\n\t\treturn (\n\t\t\t<div className=\"charitable-campaigns-field\">\n\t\t\t\t{ fieldLabel }\n\t\t\t\t<CampaignSearchField\n\t\t\t\t\tadd_or_remove_campaign_callback={ ( campaign ) => this.addOrRemoveCampaign( campaign ) }\n\t\t\t\t\tselected_campaigns={ this.state.selected_campaigns }\n\t\t\t\t\tcampaign_active_status={ campaign_active_status }\n\t\t\t\t/>\n\t\t\t\t<CampaignSelectedResults\n\t\t\t\t\tselected_campaigns={ this.state.selected_campaigns }\n\t\t\t\t\tadd_or_remove_campaign_callback={ ( campaign ) => this.addOrRemoveCampaign( campaign ) }\n\t\t\t\t\tcolumns={ columns }\n\t\t\t\t\tcampaign_active_status={ campaign_active_status }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default CampaignSelect;","/**\n * WordPress dependencies\n */\nconst { createRef } = wp.element;\n\n/**\n * Refs.\n */\nexport const REFS = {\n\tsearch_field : createRef(),\n\tsearch_results : createRef(),\n\tselected_results : createRef(),\n};\n\nexport default REFS;\n","/**\n * Block dependencies.\n */\nimport { CampaignSearchResults } from './search-results';\nimport { REFS } from './refs';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component, findDOMNode, createRef  } = wp.element;\nconst { Dashicon } = wp.components;\n\n/**\n * Search for specific campaigns.\n */\nexport class CampaignSearchField extends Component {\n\n\t/**\n\t * Constructor.\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tsearch_text: '',\n\t\t\tdropdown_open: false,\n\t\t};\n\n\t\tthis.handleKeyDown       = this.handleKeyDown.bind( this );\n\t\tthis.updateSearchResults = this.updateSearchResults.bind( this );\n\t\tthis.isDropdownOpen      = this.isDropdownOpen.bind( this );\n\n\t\tREFS.search_results = createRef();\n\t}\n\n\t/**\n\t * Update state to reflect if dropdown is open.\n\t */\n\tisDropdownOpen( isOpen ) {\n\t\tthis.setState( {\n\t\t\tdropdown_open: !! isOpen,\n\t\t} );\n\t}\n\n\t/**\n\t * Update search results.\n\t */\n\tupdateSearchResults( evt ) {\n\t\tthis.setState( {\n\t\t\tsearch_text: evt.target.value\n\t\t} );\n\t}\n\n\t/**\n\t * Handle key strokes.\n\t *\n\t * When a down arrow key is pressed, shift focus to first search result.\n\t */\n\thandleKeyDown( evt ) {\n\t\tif ( 'ArrowDown' === evt.key ) {\n\t\t\tevt.stopPropagation();\n\n\t\t\tconst results = findDOMNode( REFS.search_results.current );\n\n\t\t\tif ( results ) {\n\t\t\t\tresults.firstElementChild.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Render the campaign search UI.\n\t */\n\trender() {\n\t\tconst divClass = 'charitable-campaigns-list-card__search-wrapper';\n\n\t\treturn (\n\t\t\t<div className={ divClass + ( this.state.dropdown_open ? ' ' + divClass + '--with-results' : '' ) }>\n\t\t\t\t<div className=\"charitable-campaigns-list-card__input-wrapper\">\n\t\t\t\t\t<Dashicon icon=\"search\" />\n\t\t\t\t\t<input type=\"search\"\n\t\t\t\t\t\tclassName=\"charitable-campaigns-list-card__search\"\n\t\t\t\t\t\tvalue={ this.state.search_text }\n\t\t\t\t\t\tplaceholder={ this.props.search_placeholder }\n\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\tonKeyDown={ this.handleKeyDown }\n\t\t\t\t\t\tonChange={ this.updateSearchResults }\n\t\t\t\t\t\tref={ REFS.search_field }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<CampaignSearchResults\n\t\t\t\t\tsearch_string={ this.state.search_text }\n\t\t\t\t\tadd_or_remove_campaign_callback={ this.props.add_or_remove_campaign_callback }\n\t\t\t\t\tselected_campaigns={ this.props.selected_campaigns }\n\t\t\t\t\tis_dropdown_open_callback={ this.isDropdownOpen }\n\t\t\t\t\tcampaign_active_status={ this.props.campaign_active_status }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default CampaignSearchField;","/**\n * Block dependencies\n */\nimport { getCampaignThumbnail, hasCampaignThumbnail } from './functions';\n\n/**\n * WordPress dependencies\n */\nconst { Component } = wp.element;\nconst { Dashicon } = wp.components;\n\n/**\n * Display an individual campaign search result.\n */\nexport class CampaignSearchResultsDropdownElement extends Component {\n\n\t/**\n\t * Constructor.\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.handleClick   = this.handleClick.bind( this );\n\t\tthis.handleKeyDown = this.handleKeyDown.bind( this );\n\t}\n\n\t/**\n\t * Add campaign to main list and change UI to show it was added.\n\t */\n\thandleClick() {\n\t\tthis.props.add_or_remove_campaign_callback( this.props.campaign.id );\n\t}\n\n\t/**\n\t * Respond to keyboard events on dropdown elements.\n\t */\n\thandleKeyDown( evt ) {\n\t\tif ( 'Enter' === evt.key ) {\n\t\t\tthis.props.add_or_remove_campaign_callback( this.props.campaign.id );\n\t\t}\n\t}\n\n\t/**\n\t * Render one result in the search results.\n\t */\n\trender() {\n\t\tconst campaign = this.props.campaign;\n\t\tlet icon = this.props.selected ? <Dashicon icon=\"yes\" /> : null;\n\n\t\tconst getCardClass = ( campaign ) => {\n\t\t\tlet cardClass = 'charitable-campaigns-list-card__content';\n\n\t\t\tif ( this.props.selected ) {\n\t\t\t\tcardClass += ' charitable-campaigns-list-card__content--added';\n\t\t\t}\n\n\t\t\tif ( hasCampaignThumbnail( campaign ) ) {\n\t\t\t\tcardClass += ' charitable-campaigns-list-card__content--has-thumbnail';\n\t\t\t}\n\t\t\treturn cardClass;\n\t\t}\n\n\t\tlet isDefault = this.props.index === 0 ? isDefault : '';\n\n\t\treturn (\n\t\t\t<div className={ getCardClass( campaign ) } onClick={ this.handleClick } onKeyDown={ this.handleKeyDown } isDefault tabIndex={ this.props.index } >\n\t\t\t\t{ getCampaignThumbnail( campaign ) }\n\t\t\t\t<span className=\"charitable-campaigns-list-card__content-item-name\">{ campaign.title.rendered }</span>\n\t\t\t\t{ icon }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default CampaignSearchResultsDropdownElement;","/**\n * Block dependencies.\n */\nimport { CampaignSearchResultsDropdownElement } from './search-results-dropdown-element';\nimport { REFS } from './refs';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst { NavigableMenu } = wp.components;\n\n/**\n * Render the dropdown with campaign search results.\n */\nexport class CampaignSearchResultsDropdown extends Component {\n\n\t/**\n\t * Set the state of the dropdown to open.\n\t */\n\tcomponentDidMount() {\n\t\tthis.props.is_dropdown_open_callback( true );\n\t}\n\n\t/**\n\t * Set the state of the dropdown to closed.\n\t */\n\tcomponentDidUnmount() {\n\t\tthis.props.is_dropdown_open_callback( false );\n\t}\n\n\t/**\n\t * Render dropdown.\n\t */\n\trender() {\n\t\tconst { campaigns, add_or_remove_campaign_callback, selected_campaigns } = this.props;\n\n\t\tlet campaignElements = [];\n\t\tlet index = 0;\n\n\t\tfor ( let campaign of campaigns ) {\n\t\t\tcampaignElements.push(\n\t\t\t\t<CampaignSearchResultsDropdownElement\n\t\t\t\t\tindex= { index }\n\t\t\t\t\tcampaign={ campaign }\n\t\t\t\t\tadd_or_remove_campaign_callback={ add_or_remove_campaign_callback }\n\t\t\t\t\tselected={ selected_campaigns.includes( campaign.id ) }\n\t\t\t\t/>\n\t\t\t);\n\n\t\t\tindex += 1;\n\t\t}\n\n\t\treturn (\n\t\t\t<NavigableMenu\n\t\t\t\tclassName=\"charitable-campaigns-list-card__search-results\"\n\t\t\t\taria-label={ __( 'Campaign list', 'charitable' ) }\n\t\t\t\tref={ REFS.search_results }\n\t\t\t>\n\t\t\t\t{ campaignElements }\n\t\t\t</NavigableMenu>\n\t\t);\n\t}\n}\n\nexport default CampaignSearchResultsDropdown;","/**\n * Block dependencies.\n */\nimport { CampaignSearchResultsDropdown } from './search-results-dropdown';\nimport { CAMPAIGN_DATA } from './campaign-data';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst { apiFetch } = wp;\n\n/**\n * Display campaign search results.\n */\nexport class CampaignSearchResults extends Component {\n\n\t/**\n\t * Constructor.\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tfiltered: [],\n\t\t\tcampaign_count: null,\n\t\t\tcampaigns: [],\n\t\t\tquery: '',\n\t\t\tloaded: false,\n\t\t\tcontrollers: [],\n\t\t};\n\n\t\tthis.getQuery      = this.getQuery.bind( this );\n\t\tthis.updateResults = this.updateResults.bind( this );\n\t}\n\n\t/**\n\t * Fetch the first 100 campaigns into memory, for faster search.\n\t *\n\t * We also record how many campaigns there are, in case there are more than 100.\n\t */\n\tcomponentDidMount() {\n\t\tconst self = this;\n\n\t\tapiFetch( {\n\t\t\tpath: '/wp/v2/campaigns?_embed&per_page=100&active_status=' + this.props.campaign_active_status,\n\t\t\tparse: false\n\t\t} ).then( ( response ) => {\n\t\t\tresponse.json().then( ( campaigns ) => {\n\n\t\t\t\tself.setState( {\n\t\t\t\t\tcampaigns: campaigns,\n\t\t\t\t\tloaded: true,\n\t\t\t\t\tcampaign_count: response.headers.get( 'X-WP-Total' ),\n\t\t\t\t})\n\n\t\t\t\tself.updateResults();\n\t\t\t} )\n\t\t} );\n\t}\n\n\t/**\n\t * Update the preview when component is updated.\n\t */\n\tcomponentDidUpdate() {\n\t\tif ( this.props.search_string !== this.state.query ) {\n\t\t\tthis.updateResults();\n\t\t}\n\t}\n\n\t/**\n\t * Get the endpoint to run the query.\n\t *\n\t * @return string\n\t */\n\tgetQuery() {\n\t\tif ( ! this.props.search_string.length ) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn '/wp/v2/campaigns?_embed&per_page=10&search=' + this.props.search_string;\n\t}\n\n\t/**\n\t * Update the search results.\n\t */\n\tupdateResults( retry = 0 ) {\n\t\t// Campaigns haven't loaded yet, so retry in 500ms.\n\t\tif ( ! this.state.loaded ) {\n\n\t\t\t// Avoid retrying forever.\n\t\t\tif ( retry < 25 ) {\n\t\t\t\tretry += 1;\n\t\t\t\treturn window.setTimeout( this.updateResults, 500, retry );\n\t\t\t}\n\n\t\t\tthis.setState( {\n\t\t\t\tloaded: true,\n\t\t\t} );\n\t\t}\n\n\t\tconst query          = this.props.search_string;\n\t\tconst queryLowercase = query.toLowerCase();\n\t\tconst filtered       = this.state.campaigns.filter( ( campaign ) => {\n\t\t\treturn campaign.title.rendered.toLowerCase().includes( queryLowercase );\n\t\t} );\n\n\t\tthis.setState( {\n\t\t\tquery: query,\n\t\t\tfiltered: filtered,\n\t\t} );\n\t}\n\n\t/**\n\t * Render.\n\t */\n\trender() {\n\t\tif ( ! this.state.loaded || ! this.state.query.length ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ( 0 === this.state.filtered.length ) {\n\t\t\treturn <span className=\"charitable-campaign-list-card__search-no-results\"> { __( 'No campaigns found' ) } </span>;\n\t\t}\n\n\t\t// Populate the cache.\n\t\tfor ( let campaign of this.state.filtered ) {\n\t\t\tCAMPAIGN_DATA[ campaign.id ] = campaign;\n\t\t}\n\n\t\treturn (\n\t\t\t<CampaignSearchResultsDropdown\n\t\t\t\tcampaigns={ this.state.filtered }\n\t\t\t\tadd_or_remove_campaign_callback={ this.props.add_or_remove_campaign_callback }\n\t\t\t\tselected_campaigns={ this.props.selected_campaigns }\n\t\t\t\tis_dropdown_open_callback={ this.props.is_dropdown_open_callback }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default CampaignSearchResults;","/**\n * Block dependencies\n */\nimport { getCampaignThumbnail } from './functions';\nimport { CAMPAIGN_DATA } from './campaign-data';\n\n/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst { apiFetch } = wp;\nconst { Dashicon } = wp.components;\n\n/**\n * Display selected campaigns.\n */\nexport class CampaignSelectedResults extends Component {\n\n\t/**\n\t * Constructor\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tquery: '',\n\t\t\tloaded: false,\n\t\t};\n\n\t\tthis.getQuery            = this.getQuery.bind( this );\n\t\tthis.updateCampaignCache = this.updateCampaignCache.bind( this );\n\t}\n\n\t/**\n\t * Get the preview when component is first loaded.\n\t */\n\tcomponentDidMount() {\n\t\tthis.updateCampaignCache();\n\t}\n\n\t/**\n\t * Update the preview when component is updated.\n\t */\n\tcomponentDidUpdate() {\n\t\tif ( this.state.loaded && this.getQuery() !== this.state.query ) {\n\t\t\tthis.updateCampaignCache();\n\t\t}\n\t}\n\n\t/**\n\t * Get the endpoint for the current state of the component.\n\t */\n\tgetQuery() {\n\t\tif ( ! this.props.selected_campaigns.length ) {\n\t\t\treturn '';\n\t\t}\n\n\t\t// Determine which campaigns are not already in the cache and only fetch uncached campaigns.\n\t\tlet uncachedCampaigns = [];\n\t\tfor( const campaignId of this.props.selected_campaigns ) {\n\t\t\tif ( ! CAMPAIGN_DATA.hasOwnProperty( campaignId ) ) {\n\t\t\t\tuncachedCampaigns.push( campaignId );\n\t\t\t}\n\t\t}\n\n\t\treturn uncachedCampaigns.length ? '/wp/v2/campaigns?_embed&include=' + uncachedCampaigns.join( ',' ) : '';\n\t}\n\n\t/**\n\t * Add newly fetched campaigns to the cache.\n\t */\n\tupdateCampaignCache() {\n\t\tconst self = this;\n\t\tconst query = this.getQuery();\n\n\t\tself.setState( {\n\t\t\tquery: query,\n\t\t\tloaded: false,\n\t\t} );\n\n\t\t// Add new campaigns to cache.\n\t\tif ( query.length ) {\n\t\t\tapiFetch( { path: query } ).then( campaigns => {\n\t\t\t\tif ( campaigns.length ) {\n\t\t\t\t\tfor ( const campaign of campaigns ) {\n\t\t\t\t\t\tCAMPAIGN_DATA[ campaign.id ] = campaign;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.log( campaigns );\n\n\t\t\t\tself.setState( {\n\t\t\t\t\tloaded: true,\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Render.\n\t */\n\trender() {\n\t\tconst { selected_campaigns, add_or_remove_campaign_callback } = this.props;\n\t\tconst campaignElements = [];\n\n\t\tfor ( const campaignId of selected_campaigns ) {\n\n\t\t\t// Skip products that aren't in the cache yet or failed to fetch.\n\t\t\tif ( ! CAMPAIGN_DATA.hasOwnProperty( campaignId ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst campaignData = CAMPAIGN_DATA[ campaignId ];\n\n\t\t\tcampaignElements.push(\n\t\t\t\t<li className=\"charitable-campaigns-list-card__item campaign\" key={ campaignData.id + '-specific-select-edit' } >\n\t\t\t\t\t<div className=\"charitable-campaigns-list-card__content\">\n\t\t\t\t\t\t{ getCampaignThumbnail( campaignData ) }\n\t\t\t\t\t\t<span className=\"charitable-campaigns-list-card__content-item-name\">{ campaignData.title.rendered }</span>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tid={ 'campaign-' + campaignData.id }\n\t\t\t\t\t\t\tonClick={ function() { add_or_remove_campaign_callback( campaignData.id ) } } >\n\t\t\t\t\t\t\t\t<Dashicon icon=\"no-alt\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\tlet header    = null;\n\t\tlet campaigns = null;\n\n\t\tif ( selected_campaigns.length > 0 ) {\n\t\t\tcampaigns = <ul className=\"charitable-campaigns-list-card__selected-results-list\">{ campaignElements.length ? campaignElements : __( 'Loading...', 'charitable' ) }</ul>\n\n\t\t\tif ( 1 === selected_campaigns.length ) {\n\t\t\t\theader = <h4>{ __( 'Selected campaign', 'charitable' ) }</h4>\n\t\t\t} else {\n\t\t\t\theader = <h4>{ __( 'Selected campaigns', 'charitable' ) }</h4>\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"charitable-campaigns-list-card__selected-results-wrapper\">\n\t\t\t\t<div role=\"menu\" className=\"charitable-campaigns-list-card__selected-results\" aria-orientation=\"vertical\" aria-label={ __( 'Selected campaigns', 'charitable' ) }>\n\t\t\t\t\t{ header }\n\t\t\t\t\t{ campaigns }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default CampaignSelectedResults;","/**\n * WordPress dependencies\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst { apiFetch } = wp;\n\n/**\n * Display a list of campaign categories with checkboxes, counts and a search filter.\n */\nexport class CampaignCategorySelect extends Component {\n\n\t/**\n\t * Constructor.\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tselectedCategories: props.selected_categories,\n\t\t\tfirstLoad: true,\n\t\t}\n\n\t\tthis.checkboxChange  = this.checkboxChange.bind( this );\n\t\t//this.accordionToggle = this.accordionToggle.bind( this );\n\t\t//this.filterResults   = this.filterResults.bind( this );\n\t\tthis.setFirstLoad    = this.setFirstLoad.bind( this );\n\t}\n\n\t/**\n\t * Handle checkbox toggle.\n\t *\n\t * @param Checked? boolean checked\n\t * @param Categories array categories\n\t */\n\tcheckboxChange( checked, categories ) {\n\t\tlet selectedCategories = this.state.selectedCategories;\n\n\t\tselectedCategories = selectedCategories.filter( category => ! categories.includes( category ) );\n\n\t\tif ( checked ) {\n\t\t\tselectedCategories.push( ...categories );\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tselectedCategories: selectedCategories\n\t\t} );\n\n\t\tthis.props.update_category_setting_callback( selectedCategories );\n\t}\n\n\t/**\n\t * Update firstLoad state.\n\t *\n\t * @param Booolean loaded\n\t */\n\tsetFirstLoad( loaded ) {\n\t\tthis.setState( {\n\t\t\tfirstLoad: !! loaded\n\t\t} );\n\t}\n\n\t/**\n\t * Render the list of categories and the search input.\n\t */\n\trender() {\n\t\tlet label = null;\n\n\t\tif ( this.props.label.length ) {\n\t\t\tlabel = <label>{ this.props.label }</label>;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"charitable-campaign-categories-list\">\n\t\t\t\t{ label }\n\t\t\t\t<CampaignCategoryList\n\t\t\t\t\tselectedCategories={ this.state.selectedCategories }\n\t\t\t\t\tcheckboxChange={ this.checkboxChange }\n\t\t\t\t\tfirstLoad={ this.state.firstLoad }\n\t\t\t\t\tsetFirstLoad={ this.setFirstLoad }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\n/**\n * Fetch and build a tree of campaign categories.\n */\nclass CampaignCategoryList extends Component {\n\n\t/**\n\t * Constructor.\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tcategories: [],\n\t\t\tloaded: false,\n\t\t\tquery: '',\n\t\t};\n\n\t\tthis.updatePreview = this.updatePreview.bind( this );\n\t\tthis.getQuery      = this.getQuery.bind( this );\n\t}\n\n\t/**\n\t * Get the preview when component is first loaded.\n\t */\n\tcomponentDidMount() {\n\t\tif ( this.getQuery() !== this.state.query ) {\n\t\t\tthis.updatePreview();\n\t\t}\n\t}\n\n\t/**\n\t * Update the preview when component is updated.\n\t */\n\tcomponentDidUpdate() {\n\t\tif ( this.getQuery() !== this.state.query && this.state.loaded ) {\n\t\t\tthis.updatePreview();\n\t\t}\n\t}\n\n\t/**\n\t * Get the endpoint for the current state of the component.\n\t *\n\t * @return string\n\t */\n\tgetQuery() {\n\t\tconst endpoint = '/wp/v2/campaignCategories';\n\t\treturn endpoint;\n\t}\n\n\t/**\n\t * Update the preview with the latest settings.\n\t */\n\tupdatePreview() {\n\t\tconst self  = this;\n\t\tconst query = this.getQuery();\n\n\t\tself.setState( {\n\t\t\tloaded: false,\n\t\t} );\n\n\t\tapiFetch( { path: query } ).then( categories => {\n\t\t\tself.setState( {\n\t\t\t\tcategories: categories,\n\t\t\t\tloaded: true,\n\t\t\t\tquery: query\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Render.\n\t */\n\trender() {\n\t\tconst { selectedCategories, checkboxChange } = this.props;\n\n\t\tif ( ! this.state.loaded ) {\n\t\t\treturn __( 'Loading categories', 'charitable' );\n\t\t}\n\n\t\tif ( 0 === this.state.categories.length ) {\n\t\t\treturn __( 'No categories found', 'charitable' );\n\t\t}\n\n\t\tconst handleCategoriesToCheck = ( evt, parent, categories ) => {\n\t\t\tlet slugs = getCategoryChildren( parent, categories ).map( category => {\n\t\t\t\treturn category.slug;\n\t\t\t} );\n\n\t\t\tslugs.push( parent.slug );\n\n\t\t\tcheckboxChange( evt.target.checked, slugs );\n\t\t}\n\n\t\tconst getCategoryChildren = ( parent, categories ) => {\n\t\t\tlet children = [];\n\n\t\t\tcategories.filter( ( category ) => category.parent === parent.id ).forEach( function( category ) {\n\t\t\t\tchildren.push( category );\n\t\t\t\tchildren.push( ...getCategoryChildren( category, categories ) );\n\t\t\t} );\n\n\t\t\treturn children;\n\t\t};\n\n\t\tconst CategoryTree = ( { categories, parent } ) => {\n\t\t\tlet filteredCategories = categories;\n\n\t\t\treturn ( filteredCategories.length > 0 ) && (\n\t\t\t\t<ul>\n\t\t\t\t\t{ filteredCategories.map( ( category ) => (\n\t\t\t\t\t\t<li key={ category.id } className=\"charitable-category-list-card__item\">\n\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t<input type=\"checkbox\"\n\t\t\t\t\t\t\t\t\tid={ 'campaign-category-' + category.slug }\n\t\t\t\t\t\t\t\t\tvalue={ category.slug }\n\t\t\t\t\t\t\t\t\tchecked={ selectedCategories.includes( category.slug ) }\n\t\t\t\t\t\t\t\t\tonChange={ ( evt ) => handleCategoriesToCheck( evt, category, categories ) }\n\t\t\t\t\t\t\t\t/> { category.name }\n\t\t\t\t\t\t\t\t<span className=\"charitable-category-list-card__taxonomy-count\">{ category.count }</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t)\n\t\t}\n\n\t\tlet categoriesData = this.state.categories;\n\n\t\treturn (\n\t\t\t<div className=\"charitable-category-list-card__results\">\n\t\t\t\t<CategoryTree categories={ categoriesData } parent={ 0 } />\n\t\t\t</div>\n\t\t);\n\t}\n}","/**\n * WordPress dependencies.\n */\nconst { __ } = wp.i18n;\nconst { Component } = wp.element;\nconst { Dashicon } = wp.components;\n\n/**\n * Display a filter section.\n *\n * The filter shows a checkbox along with the filter title, and when\n * checked, the filter shows the filter settings.\n */\nexport class Filter extends Component {\n\n\t/**\n\t * Constructor.\n\t */\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tenabled: props.enabled,\n\t\t}\n\t}\n\n\t/**\n\t * Render the filter.\n\t */\n\trender() {\n\n\t\t/**\n\t\t * Toggle filter.\n\t\t */\n\t\tconst toggleFilter = () => {\n\t\t\t\n\t\t\tthis.setState( {\n\t\t\t\tenabled: ! this.state.enabled,\n\t\t\t} );\n\t\t}\n\n\t\tconst filterStyles = {};\n\t\tlet icon = 'arrow-up-alt2';\n\n\t\tif ( ! this.state.enabled ) {\n\t\t\tfilterStyles.display = 'none';\n\n\t\t\ticon = 'arrow-down-alt2';\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={ 'charitable-block-settings-filter' + ( this.state.enabled ? ' is-opened' : '' ) }>\n\t\t\t\t<div className=\"charitable-block-settings-filter-toggle\">\n\t\t\t\t\t<h3 className=\"charitable-block-settings-filter-header\">\n\t\t\t\t\t\t{ this.props.title }\n\t\t\t\t\t\t<button onClick={ toggleFilter } className=\"charitable-block-settings-filter-toggle__accordion-button\" type=\"button\">\n\t\t\t\t\t\t\t<Dashicon icon={ icon } />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"charitable-block-settings-filter-settings\" style={ filterStyles }>\n\t\t\t\t\t{ this.props.children }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());"],"sourceRoot":""}