var $=jQuery.noConflict();CHARITABLE_ADMIN={},CHARITABLE_ADMIN.SetupDatepicker=function(a){a.datepicker({dateFormat:"MM d, yy",minDate:$(this).data("min-date")||"",beforeShow:function(a,b){$("#ui-datepicker-div").addClass("charitable-datepicker-table")}}),a.each(function(){$(this).data("date")&&$(this).datepicker("setDate",$(this).data("date")),$(this).data("min-date")&&$(this).datepicker("option","minDate",$(this).data("min-date"))})},function(a){var b=function(){a("[data-charitable-action]").on("click",function(b){var c=a(this).data("charitable-args")||{},d="charitable-"+a(this).data("charitable-action");return a.post(ajaxurl,{action:d,data:c},function(a){console.log("Response: "+a)}),!1})},c=function(){a("[data-charitable-toggle]").on("click",function(b){var c=a(this).data("charitable-toggle"),d=a(this).attr("data-charitable-toggle-text");return d&&d.length&&(a(this).attr("data-charitable-toggle-text",a(this).text()),a(this).text(d)),a("#"+c).toggle(),!1})},d=function(){var b=a("#charitable-campaign-advanced-metabox");b.tabs();var c=b.find(".charitable-tabs").height();b.find(".ui-tabs-panel").each(function(){a(this).css("min-height",c)})},e=function(){var b=a("#charitable-campaign-suggested-donations tbody"),c=function(){var a=b.find("[data-index]"),c=0;return a.length&&(c=parseInt(a.last().data("index"),10)+1),c}(),d='<tr data-index="'+c+'"><td><input type="text" id="campaign_suggested_donations_'+c+'" name="_campaign_suggested_donations['+c+'][amount]" placeholder="'+CHARITABLE.suggested_amount_placeholder+'" /><td><input type="text" id="campaign_suggested_donations_'+c+'" name="_campaign_suggested_donations['+c+'][description]" placeholder="'+CHARITABLE.suggested_amount_description_placeholder+'" /></tr>';b.find(".no-suggested-amounts").hide(),b.append(d)},f=function(){var b=a("#charitable_dashboard_donations");b.length&&a.ajax({type:"GET",data:{action:"charitable_load_dashboard_donations_widget"},url:ajaxurl,success:function(a){b.find(".inside").html(a)}})};a(document).ready(function(){a.fn.datepicker&&CHARITABLE_ADMIN.SetupDatepicker(a(".charitable-datepicker")),a("body.post-type-campaign .handlediv, body.post-type-donation .handlediv").remove(),a("body.post-type-campaign .hndle, body.post-type-donation .hndle").removeClass("hndle ui-sortable-handle").addClass("postbox-title"),d(),b(),c(),f(),a("[data-charitable-add-row]").on("click",function(){var b=a(this).data("charitable-add-row");return"suggested-amount"===b&&e(),!1}),a("body").on("click","[data-campaign-benefactor-delete]",function(){var b=a(this).parents(".charitable-benefactor"),c={action:"charitable_delete_benefactor",benefactor_id:a(this).data("campaign-benefactor-delete"),nonce:a(this).data("nonce")};return a.ajax({type:"POST",data:c,dataType:"json",url:ajaxurl,xhrFields:{withCredentials:!0},success:function(a){a.deleted&&b.remove()}}).fail(function(a){window.console&&window.console.log&&(console.log("failture"),console.log(a))}),!1}),a("#change-donation-status").on("change",function(){a(this).parents("form").submit()})})}(jQuery);